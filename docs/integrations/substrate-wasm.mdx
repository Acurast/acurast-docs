---
title: Substrate With WASM
slug: /integrations/substrate-wasm
---

# Substrate With WASM smart contract environment

Acurast can be used to fulfill directly on smart contracts deployed on Substrate chains with [pallet-contracts](https://github.com/paritytech/substrate/tree/master/frame/contracts) integration.

### Example integration with WASM smart contract parachain

The following example shows a simple WASM smart contract implemented with [ink!](https://use.ink/) that can receive random bytes:

```rust
#![cfg_attr(not(feature = "std"), no_std)]

use ink;

#[ink::contract]
mod receiver {
    use ink::prelude::vec::Vec;

    /// Defines the storage of your contract.
    /// Add new fields to the below struct in order
    /// to add new static storage fields to your contract.
    #[ink(storage)]
    pub struct Receiver {
        random_bytes: Vec<u8>,
    }

    impl Receiver {
        #[ink(constructor)]
        pub fn default() -> Self {
            Self {
                random_bytes: Default::default(),
            }
        }

        #[ink(message)]
        pub fn fulfill(&mut self, bytes: Vec<u8>) {
            self.random_bytes = bytes;
        }

        #[ink(message)]
        pub fn get_bytes(&self) -> Vec<u8> {
            self.random_bytes.clone()
        }
    }
}
```

It is possible to directly call the fulfill method from the processors. The example script below shows how to call the above smart contract:

```javascript
const callIndex = '0x4606'; // the call index for the 'call' extrinsic
const destination = "<MY_WASM_CONTRACT_ADDRESS>"; // replace with a contract address that will receive the 'fulfill' call.
_STD_.chains.substrate.signer.setSigner("SECP256K1"); // the type of signer used for sign the extrinsic call, possible values are SECP256K1 or SECP256R1. What to use depends on what type of address is supported by the chain.
const entropy = generateSecureRandomHex();
_STD_.chains.substrate.contract.fulfill(
    "<SUBSTRATE_NODE_RPC_URL>",
    callIndex,
    destination,
    entropy,
    {
        refTime: "3951114240",
        proofSize: "629760",
    },
    (opHash) => {
        print("Succeeded: " + opHash)
    },
    (err) => {
        print("Failed fulfill: " + err)
    },
)
```